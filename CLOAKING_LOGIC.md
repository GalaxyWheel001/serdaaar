# üìã –î–µ—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã –∫–ª–æ–∞–∫–∏–Ω–≥–∞

## üéØ –û–±—â–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è

**–ö–ª–æ–∞–∫–∏–Ω–≥** ‚Äî —ç—Ç–æ —Ç–µ—Ö–Ω–∏–∫–∞ –ø–æ–∫–∞–∑–∞ —Ä–∞–∑–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –±–æ—Ç–∞–º –∏ —Ä–µ–∞–ª—å–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º. –¶–µ–ª—å: —Å–∫—Ä—ã—Ç—å –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –æ—Ç –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º (Facebook, Google –∏ —Ç.–¥.) –∏ –ø–æ–∫–∞–∑–∞—Ç—å –µ–≥–æ —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.

---

## üîÑ –ü–æ–ª–Ω—ã–π –ø–æ—Ç–æ–∫ —Ä–∞–±–æ—Ç—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   1. –í–•–û–î–Ø–©–ò–ô –ó–ê–ü–†–û–°                         ‚îÇ
‚îÇ              (Edge Function intercepts request)              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                             ‚îÇ
                             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ          2. –ü–†–û–í–ï–†–ö–ê –ò–°–ö–õ–Æ–ß–ï–ù–ù–´–• –ü–£–¢–ï–ô                       ‚îÇ
‚îÇ  shouldExcludePath(url.pathname, config)                    ‚îÇ
‚îÇ                                                              ‚îÇ
‚îÇ  –ò—Å–∫–ª—é—á–∞—é—Ç—Å—è:                                               ‚îÇ
‚îÇ  ‚Ä¢ /favicon.ico                                             ‚îÇ
‚îÇ  ‚Ä¢ /robots.txt                                              ‚îÇ
‚îÇ  ‚Ä¢ /sitemap.xml                                             ‚îÇ
‚îÇ  ‚Ä¢ /assets/*, /css/*, /js/*, /images/*                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                             ‚îÇ
                  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                  ‚îÇ –ò—Å–∫–ª—é—á–µ–Ω?           ‚îÇ
                  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                             ‚îÇ
                ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                ‚îÇ                         ‚îÇ
               –î–ê                         –ù–ï–¢
                ‚îÇ                         ‚îÇ
                ‚ñº                         ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  –ü–†–û–ü–£–°–ö–ê–ï–ú –ë–ï–ó       ‚îÇ  ‚îÇ  3. –î–ï–¢–ï–ö–¶–ò–Ø –ë–û–¢–ê           ‚îÇ
    ‚îÇ  –ü–†–û–í–ï–†–ö–ò             ‚îÇ  ‚îÇ  isBot(request)              ‚îÇ
    ‚îÇ  context.next()       ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                 ‚îÇ
                                              ‚ñº
                          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                          ‚îÇ  3.1. –ü–†–û–í–ï–†–ö–ê USER-AGENT        ‚îÇ
                          ‚îÇ                                   ‚îÇ
                          ‚îÇ  –ò–∑–≤–ª–µ–∫–∞–µ–º:                       ‚îÇ
                          ‚îÇ  request.headers.get("user-agent")‚îÇ
                          ‚îÇ                                   ‚îÇ
                          ‚îÇ  –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω—ã:              ‚îÇ
                          ‚îÇ  ‚Ä¢ bot, crawl, spider             ‚îÇ
                          ‚îÇ  ‚Ä¢ facebookexternalhit, facebot   ‚îÇ
                          ‚îÇ  ‚Ä¢ google, bing, yahoo            ‚îÇ
                          ‚îÇ  ‚Ä¢ twitterbot, linkedinbot        ‚îÇ
                          ‚îÇ  ‚Ä¢ python-requests, curl, wget    ‚îÇ
                          ‚îÇ  ‚Ä¢ –∏ 30+ –¥—Ä—É–≥–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤         ‚îÇ
                          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                         ‚îÇ
                          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                          ‚îÇ –ù–∞–π–¥–µ–Ω –ø–∞—Ç—Ç–µ—Ä–Ω –±–æ—Ç–∞?        ‚îÇ
                          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                         ‚îÇ
                          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                          ‚îÇ                             ‚îÇ
                         –î–ê                            –ù–ï–¢
                          ‚îÇ                             ‚îÇ
                          ‚ñº                             ‚ñº
          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
          ‚îÇ 3.2. –ü–†–û–í–ï–†–ö–ê IP-–ê–î–†–ï–°–ê  ‚îÇ  ‚îÇ 3.2. –ü–†–û–í–ï–†–ö–ê IP-–ê–î–†–ï–°–ê     ‚îÇ
          ‚îÇ                          ‚îÇ  ‚îÇ                              ‚îÇ
          ‚îÇ –ò–∑–≤–ª–µ–∫–∞–µ–º IP –∏–∑:         ‚îÇ  ‚îÇ –ò–∑–≤–ª–µ–∫–∞–µ–º IP –∏–∑:             ‚îÇ
          ‚îÇ ‚Ä¢ x-forwarded-for        ‚îÇ  ‚îÇ ‚Ä¢ x-forwarded-for            ‚îÇ
          ‚îÇ ‚Ä¢ x-real-ip              ‚îÇ  ‚îÇ ‚Ä¢ x-real-ip                  ‚îÇ
          ‚îÇ ‚Ä¢ cf-connecting-ip       ‚îÇ  ‚îÇ ‚Ä¢ cf-connecting-ip           ‚îÇ
          ‚îÇ                          ‚îÇ  ‚îÇ                              ‚îÇ
          ‚îÇ –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–∏–∞–ø–∞–∑–æ–Ω—ã:     ‚îÇ  ‚îÇ –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–∏–∞–ø–∞–∑–æ–Ω—ã:         ‚îÇ
          ‚îÇ ‚Ä¢ 31.13.* (Facebook)     ‚îÇ  ‚îÇ ‚Ä¢ 31.13.* (Facebook)         ‚îÇ
          ‚îÇ ‚Ä¢ 157.240.* (Facebook)   ‚îÇ  ‚îÇ ‚Ä¢ 157.240.* (Facebook)       ‚îÇ
          ‚îÇ ‚Ä¢ 66.249.* (Google)      ‚îÇ  ‚îÇ ‚Ä¢ 66.249.* (Google)          ‚îÇ
          ‚îÇ ‚Ä¢ –∏ –¥—Ä—É–≥–∏–µ...            ‚îÇ  ‚îÇ ‚Ä¢ –∏ –¥—Ä—É–≥–∏–µ...                ‚îÇ
          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ                             ‚îÇ
          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê              ‚îÇ
          ‚îÇ IP –≤ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ–º        ‚îÇ              ‚îÇ
          ‚îÇ –¥–∏–∞–ø–∞–∑–æ–Ω–µ?                  ‚îÇ              ‚îÇ
          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò              ‚îÇ
                         ‚îÇ                             ‚îÇ
          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê              ‚îÇ
          ‚îÇ                             ‚îÇ              ‚îÇ
         –î–ê                            –ù–ï–¢             ‚îÇ
          ‚îÇ                             ‚îÇ              ‚îÇ
          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò              ‚îÇ
                         ‚îÇ                             ‚îÇ
                         ‚îÇ                             ‚îÇ
                         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                        ‚îÇ
                         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                         ‚îÇ  isBotDetected = true?      ‚îÇ
                         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                        ‚îÇ
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ                                       ‚îÇ
                   –î–ê                                      –ù–ï–¢
                    ‚îÇ                                       ‚îÇ
                    ‚ñº                                       ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  4. –ë–û–¢ –û–ë–ù–ê–†–£–ñ–ï–ù             ‚îÇ  ‚îÇ  5. –†–ï–ê–õ–¨–ù–´–ô –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨        ‚îÇ
    ‚îÇ                               ‚îÇ  ‚îÇ                                  ‚îÇ
    ‚îÇ  –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –±–æ—Ç–∞:         ‚îÇ  ‚îÇ  –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ–º–µ–Ω:               ‚îÇ
    ‚îÇ  ‚Ä¢ facebook                    ‚îÇ  ‚îÇ  host.includes(config.mainDomain)‚îÇ
    ‚îÇ  ‚Ä¢ google                      ‚îÇ  ‚îÇ                                  ‚îÇ
    ‚îÇ  ‚Ä¢ bing                        ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ  ‚Ä¢ twitter                     ‚îÇ             ‚îÇ
    ‚îÇ  ‚Ä¢ blocked_ip                  ‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  ‚Ä¢ generic_bot                 ‚îÇ   ‚îÇ –ù–∞ –æ—Å–Ω–æ–≤–Ω–æ–º –¥–æ–º–µ–Ω–µ?‚îÇ
    ‚îÇ                                ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ  –õ–æ–≥–∏—Ä—É–µ–º:                     ‚îÇ             ‚îÇ
    ‚îÇ  console.log(`ü§ñ Bot:          ‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ    ${type} - ${ua}`)           ‚îÇ   ‚îÇ                   ‚îÇ
    ‚îÇ                                ‚îÇ  –î–ê                  –ù–ï–¢
    ‚îÇ  –†–µ–¥–∏—Ä–µ–∫—Ç–∏–º –Ω–∞:                ‚îÇ   ‚îÇ                   ‚îÇ
    ‚îÇ  config.botRedirectUrl         ‚îÇ   ‚îÇ                   ‚îÇ
    ‚îÇ  (https://www.google.com)      ‚îÇ   ‚ñº                   ‚ñº
    ‚îÇ                                ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  Response.redirect(            ‚îÇ  ‚îÇ –ü–†–û–ü–£–°–ö–ê–ï–ú ‚îÇ  ‚îÇ –†–ï–î–ò–†–ï–ö–¢ –ù–ê  ‚îÇ
    ‚îÇ    url, 302)                   ‚îÇ  ‚îÇ context.   ‚îÇ  ‚îÇ –û–°–ù–û–í–ù–û–ô     ‚îÇ
    ‚îÇ                                ‚îÇ  ‚îÇ next()     ‚îÇ  ‚îÇ –î–û–ú–ï–ù        ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                                    ‚îÇ
                                                    ‚ñº
                                         getTargetUrl(request, config)
                                         
                                         –§–æ—Ä–º–∏—Ä—É–µ–º URL:
                                         https://updatescheck.netlify.app
                                           + pathname
                                           + search params
                                         
                                         Response.redirect(targetUrl, 302)
```

---

## üìù –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —ç—Ç–∞–ø–æ–≤

### **–≠—Ç–∞–ø 1: –ü–µ—Ä–µ—Ö–≤–∞—Ç –∑–∞–ø—Ä–æ—Å–∞**

Edge Function Netlify –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç **–∫–∞–∂–¥—ã–π HTTP-–∑–∞–ø—Ä–æ—Å** –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω –¥–æ—Å—Ç–∏–≥–Ω–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤.

**–ö–æ–¥:**
```typescript
export default async (request: Request, context: Context) => {
  const url = new URL(request.url);
  const host = request.headers.get("host") || "";
  // ...
}
```

---

### **–≠—Ç–∞–ø 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã—Ö –ø—É—Ç–µ–π**

**–¶–µ–ª—å:** –ù–µ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, CSS, JS), —á—Ç–æ–±—ã –Ω–µ –∑–∞–º–µ–¥–ª—è—Ç—å –∑–∞–≥—Ä—É–∑–∫—É.

**–õ–æ–≥–∏–∫–∞:**
```typescript
if (shouldExcludePath(url.pathname, config)) {
  return context.next(); // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏
}
```

**–ò—Å–∫–ª—é—á–µ–Ω–Ω—ã–µ –ø—É—Ç–∏:**
- `/favicon.ico` - –∏–∫–æ–Ω–∫–∞ —Å–∞–π—Ç–∞
- `/robots.txt` - –¥–ª—è –ø–æ–∏—Å–∫–æ–≤—ã—Ö —Ä–æ–±–æ—Ç–æ–≤
- `/sitemap.xml` - –∫–∞—Ä—Ç–∞ —Å–∞–π—Ç–∞
- `/assets/*`, `/css/*`, `/js/*`, `/images/*` - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ï—Å–ª–∏ –ø—É—Ç—å –∏—Å–∫–ª—é—á–µ–Ω ‚Üí –∑–∞–ø—Ä–æ—Å –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏.

---

### **–≠—Ç–∞–ø 3: –î–µ—Ç–µ–∫—Ü–∏—è –±–æ—Ç–∞**

#### **3.1. –ü—Ä–æ–≤–µ—Ä–∫–∞ User-Agent**

**–ò–∑–≤–ª–µ–∫–∞–µ–º:**
```typescript
const userAgent = request.headers.get("user-agent") || "";
```

**–ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω—ã:**
```typescript
const BOT_UA_REGEX = /bot|crawl|spider|facebookexternalhit|facebot|.../i;
const isBotUA = !userAgent || BOT_UA_REGEX.test(userAgent);
```

**–õ–æ–≥–∏–∫–∞:**
1. –ï—Å–ª–∏ User-Agent –ø—É—Å—Ç–æ–π ‚Üí –≤–µ—Ä–æ—è—Ç–Ω–æ –±–æ—Ç
2. –ï—Å–ª–∏ User-Agent —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã (`bot`, `crawl`, `spider`, `facebookexternalhit`, `google`, `curl` –∏ —Ç.–¥.) ‚Üí –±–æ—Ç

**–ü—Ä–∏–º–µ—Ä—ã –±–æ—Ç–æ–≤:**
- `facebookexternalhit/1.1` ‚Üí Facebook –±–æ—Ç
- `Mozilla/5.0 (compatible; Googlebot/2.1)` ‚Üí Google –±–æ—Ç
- `python-requests/2.28.1` ‚Üí Scraper
- –ü—É—Å—Ç–æ–π User-Agent ‚Üí –≤–µ—Ä–æ—è—Ç–Ω–æ –±–æ—Ç

#### **3.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ IP-–∞–¥—Ä–µ—Å–∞**

**–ò–∑–≤–ª–µ–∫–∞–µ–º IP –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤:**
```typescript
const ip = request.headers.get("x-forwarded-for")?.split(",")[0] || 
           request.headers.get("x-real-ip") || 
           request.headers.get("cf-connecting-ip") || "";
```

**–ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–∏–∞–ø–∞–∑–æ–Ω—ã:**
```typescript
const BLOCKED_IP_RANGES = [
  /^31\.13\./,     // Facebook/Meta
  /^157\.240\./,   // Facebook/Meta
  /^185\.60\./,    // Facebook/Meta
  /^66\.249\./,    // Googlebot
  /^157\.55\./,    // Bing
  // –∏ –¥—Ä—É–≥–∏–µ...
];
```

**–õ–æ–≥–∏–∫–∞:**
- –ï—Å–ª–∏ IP –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `31.13.` ‚Üí Facebook/Meta –º–æ–¥–µ—Ä–∞—Ç–æ—Ä
- –ï—Å–ª–∏ IP –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `66.249.` ‚Üí Google –±–æ—Ç
- –ò —Ç.–¥.

**–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:**
–î–∞–∂–µ –µ—Å–ª–∏ –±–æ—Ç –º–∞—Å–∫–∏—Ä—É–µ—Ç User-Agent, –ø–æ IP –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å –∫ –∏–∑–≤–µ—Å—Ç–Ω—ã–º –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º.

#### **3.3. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –±–æ—Ç–∞**

```typescript
if (userAgent.includes("facebook") || userAgent.includes("meta")) {
  botType = "facebook";
} else if (userAgent.includes("google")) {
  botType = "google";
} else if (userAgent.includes("bing")) {
  botType = "bing";
}
// –∏ —Ç.–¥.
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –¥–µ—Ç–µ–∫—Ü–∏–∏:**
```typescript
{
  isBot: true/false,
  type: "facebook" | "google" | "generic_bot" | ...,
  userAgent: "...",
  ip: "31.13.64.35"
}
```

---

### **–≠—Ç–∞–ø 4: –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ—Ç–∞**

**–ï—Å–ª–∏ –±–æ—Ç –æ–±–Ω–∞—Ä—É–∂–µ–Ω:**

```typescript
if (botInfo.isBot) {
  console.log(`ü§ñ Bot detected: ${botInfo.type} - ${botInfo.userAgent}`);
  
  const redirectUrl = getRedirectUrl(config.botRedirectUrl, url);
  // redirectUrl = "https://www.google.com"
  
  return Response.redirect(redirectUrl, 302);
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç 302 –Ω–∞ `https://www.google.com`
2. –ë–æ—Ç –≤–∏–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç (Google), –∞ –Ω–µ –≤–∞—à –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–π –∫–≤–∏–∑
3. –í –ª–æ–≥–∞—Ö —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –±–æ—Ç–∞

**–í–∞–∂–Ω–æ:** –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä—ã Facebook/Google –≤–∏–¥—è—Ç Google, –∞ –Ω–µ –≤–∞—à –∫–æ–Ω—Ç–µ–Ω—Ç.

---

### **–≠—Ç–∞–ø 5: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**

**–ï—Å–ª–∏ –±–æ—Ç –ù–ï –æ–±–Ω–∞—Ä—É–∂–µ–Ω:**

#### **5.1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–º–µ–Ω–∞**

```typescript
if (host.includes(config.mainDomain)) {
  // –£–∂–µ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–º –¥–æ–º–µ–Ω–µ
  return context.next(); // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –¥–∞–ª—å—à–µ
}
```

**–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –Ω–∞ `updatescheck.netlify.app`:**
- –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∑–∞–ø—Ä–æ—Å –¥–∞–ª—å—à–µ ‚Üí –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∫–≤–∏–∑

#### **5.2. –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ–º–µ–Ω**

```typescript
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏—à–µ–ª —Å –¥—Ä—É–≥–æ–≥–æ –¥–æ–º–µ–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑ —Ä–µ–∫–ª–∞–º—ã)
const targetUrl = getTargetUrl(request, config);
// targetUrl = "https://updatescheck.netlify.app/index.html"

return Response.redirect(targetUrl, 302);
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏—Ö–æ–¥–∏—Ç –ø–æ —Ä–µ–∫–ª–∞–º–Ω–æ–π —Å—Å—ã–ª–∫–µ
2. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —ç—Ç–æ –Ω–µ –±–æ—Ç
3. –†–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ–º–µ–Ω `updatescheck.netlify.app`
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –≤–∞—à –∫–≤–∏–∑

---

## üéØ –ü—Ä–∏–º–µ—Ä—ã —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### **–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä Facebook –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Å—ã–ª–∫—É**

```
1. Facebook –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å:
   User-Agent: "facebookexternalhit/1.1"
   IP: 31.13.64.35

2. Edge Function –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å

3. –î–µ—Ç–µ–∫—Ü–∏—è:
   ‚úì User-Agent —Å–æ–¥–µ—Ä–∂–∏—Ç "facebook" ‚Üí –±–æ—Ç
   ‚úì IP –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å "31.13." ‚Üí Facebook –¥–∏–∞–ø–∞–∑–æ–Ω
   ‚Üí isBot = true, type = "facebook"

4. –†–µ–¥–∏—Ä–µ–∫—Ç:
   ‚Üí 302 Redirect –Ω–∞ https://www.google.com

5. –†–µ–∑—É–ª—å—Ç–∞—Ç:
   Facebook –≤–∏–¥–∏—Ç Google, –∞ –Ω–µ –≤–∞—à –∫–≤–∏–∑ ‚úÖ
```

---

### **–°—Ü–µ–Ω–∞—Ä–∏–π 2: –†–µ–∞–ª—å–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–∑ —Ä–µ–∫–ª–∞–º—ã**

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç –ø–æ —Ä–µ–∫–ª–∞–º–µ:
   User-Agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) Chrome/120.0.0.0"
   IP: 185.123.45.67
   Host: some-ad-domain.netlify.app

2. Edge Function –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å

3. –î–µ—Ç–µ–∫—Ü–∏—è:
   ‚úì User-Agent –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä ‚Üí –Ω–µ –±–æ—Ç
   ‚úì IP –Ω–µ –≤ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–∞—Ö ‚Üí –Ω–µ –±–æ—Ç
   ‚Üí isBot = false

4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–º–µ–Ω–∞:
   ‚úì Host != "updatescheck.netlify.app"
   ‚Üí –ù—É–∂–µ–Ω —Ä–µ–¥–∏—Ä–µ–∫—Ç

5. –†–µ–¥–∏—Ä–µ–∫—Ç:
   ‚Üí 302 Redirect –Ω–∞ https://updatescheck.netlify.app/index.html

6. –†–µ–∑—É–ª—å—Ç–∞—Ç:
   –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –≤–∞—à –∫–≤–∏–∑ ‚úÖ
```

---

### **–°—Ü–µ–Ω–∞—Ä–∏–π 3: –†–µ–∞–ª—å–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–º –¥–æ–º–µ–Ω–µ**

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞–ø—Ä—è–º—É—é:
   Host: updatescheck.netlify.app
   User-Agent: –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä

2. Edge Function –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å

3. –î–µ—Ç–µ–∫—Ü–∏—è:
   ‚Üí isBot = false

4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–º–µ–Ω–∞:
   ‚úì Host == "updatescheck.netlify.app"
   ‚Üí –£–∂–µ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–º –¥–æ–º–µ–Ω–µ

5. –ü—Ä–æ–ø—É—Å–∫:
   ‚Üí context.next()
   ‚Üí –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç index.html

6. –†–µ–∑—É–ª—å—Ç–∞—Ç:
   –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –≤–∞—à –∫–≤–∏–∑ ‚úÖ
```

---

### **–°—Ü–µ–Ω–∞—Ä–∏–π 4: –ó–∞–ø—Ä–æ—Å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ñ–∞–π–ª–∞**

```
1. –ë—Ä–∞—É–∑–µ—Ä –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç CSS:
   Path: /css/styles.css
   User-Agent: –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä

2. Edge Function –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å

3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã—Ö –ø—É—Ç–µ–π:
   ‚úì "/css/styles.css" –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å "/css"
   ‚Üí –ò—Å–∫–ª—é—á–µ–Ω –∏–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏

4. –ü—Ä–æ–ø—É—Å–∫:
   ‚Üí context.next()
   ‚Üí –§–∞–π–ª –æ—Ç–¥–∞–µ—Ç—Å—è –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏

5. –†–µ–∑—É–ª—å—Ç–∞—Ç:
   CSS –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–æ ‚úÖ
```

---

### **–°—Ü–µ–Ω–∞—Ä–∏–π 5: –ë–æ—Ç —Å –º–∞—Å–∫–∏—Ä–æ–≤–∫–æ–π User-Agent**

```
1. –£–º–Ω—ã–π –±–æ—Ç –º–∞—Å–∫–∏—Ä—É–µ—Ç User-Agent:
   User-Agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) Chrome/120.0.0.0"
   IP: 31.13.64.35  ‚Üê Facebook –¥–∏–∞–ø–∞–∑–æ–Ω!

2. Edge Function –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å

3. –î–µ—Ç–µ–∫—Ü–∏—è User-Agent:
   ‚úó User-Agent –≤—ã–≥–ª—è–¥–∏—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ
   
4. –î–µ—Ç–µ–∫—Ü–∏—è IP:
   ‚úì IP –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å "31.13." ‚Üí Facebook –¥–∏–∞–ø–∞–∑–æ–Ω
   ‚Üí isBot = true, type = "blocked_ip"

5. –†–µ–¥–∏—Ä–µ–∫—Ç:
   ‚Üí 302 Redirect –Ω–∞ https://www.google.com

6. –†–µ–∑—É–ª—å—Ç–∞—Ç:
   –ë–æ—Ç –æ–±–Ω–∞—Ä—É–∂–µ–Ω –ø–æ IP, –¥–∞–∂–µ —Å –º–∞—Å–∫–∏—Ä–æ–≤–∫–æ–π User-Agent ‚úÖ
```

---

## üîí –ó–∞—â–∏—Ç–∞ –æ—Ç –æ–±—Ö–æ–¥–∞

### **–î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:**
1. **User-Agent** ‚Äî –ª–æ–≤–∏—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –±–æ—Ç–æ–≤
2. **IP-–¥–∏–∞–ø–∞–∑–æ–Ω—ã** ‚Äî –ª–æ–≤–∏—Ç –±–æ—Ç–æ–≤ —Å –º–∞—Å–∫–∏—Ä–æ–≤–∫–æ–π User-Agent

### **–ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –ë–æ—Ç—ã –Ω–µ –º–æ–≥—É—Ç –ª–µ–≥–∫–æ –∏–∑–º–µ–Ω–∏—Ç—å —Å–≤–æ–π IP-–∞–¥—Ä–µ—Å
- IP-–¥–∏–∞–ø–∞–∑–æ–Ω—ã –ø–ª–∞—Ç—Ñ–æ—Ä–º –∏–∑–≤–µ—Å—Ç–Ω—ã –∏ —Å—Ç–∞–±–∏–ª—å–Ω—ã
- –î–∞–∂–µ –µ—Å–ª–∏ –±–æ—Ç –º–∞—Å–∫–∏—Ä—É–µ—Ç User-Agent, IP –µ–≥–æ –≤—ã–¥–∞—Å—Ç

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### **–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** (`redirect-config.ts`):

```typescript
{
  mainDomain: "updatescheck.netlify.app",      // –í–∞—à –æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ–º–µ–Ω
  botRedirectUrl: "https://www.google.com",    // –ö—É–¥–∞ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç—å –±–æ—Ç–æ–≤
  fallbackUrl: "https://updatescheck.netlify.app", // –ó–∞–ø–∞—Å–Ω–æ–π URL
  excludedPaths: ["/favicon.ico", ...]         // –ò—Å–∫–ª—é—á–µ–Ω–Ω—ã–µ –ø—É—Ç–∏
}
```

### **–ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç –¥–ª—è –±–æ—Ç–æ–≤:**
–ò–∑–º–µ–Ω–∏—Ç–µ `botRedirectUrl` –≤ `netlify/edge-lib/redirect-config.ts`:
```typescript
botRedirectUrl: "https://your-safe-page.com"
```

---

## üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –±–æ—Ç—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è:
```typescript
console.log(`ü§ñ Bot detected: ${botInfo.type} - ${botInfo.userAgent} - IP: ${botInfo.ip}`);
```

–õ–æ–≥–∏ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ Netlify Dashboard ‚Üí Functions ‚Üí Edge Functions ‚Üí Logs.

---

## üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **Edge Functions** —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–µ —Å–µ—Ç–∏ (–±–ª–∏–∑–∫–æ –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é)
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–Ω–∏–º–∞–µ—Ç** ~1-5ms
- **–ò—Å–∫–ª—é—á–µ–Ω–Ω—ã–µ –ø—É—Ç–∏** –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- **–ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å** –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **Edge Functions —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ Netlify** ‚Äî –ª–æ–∫–∞–ª—å–Ω–æ –∫–ª–æ–∞–∫–∏–Ω–≥ –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω
2. **–ù–µ –∏–¥–µ–∞–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞** ‚Äî –æ–ø—ã—Ç–Ω—ã–µ –±–æ—Ç—ã –º–æ–≥—É—Ç –æ–±–æ–π—Ç–∏, –Ω–æ —ç—Ç–æ –ª–æ–≤–∏—Ç 99% —Å–ª—É—á–∞–µ–≤
3. **–û–±–Ω–æ–≤–ª—è–π—Ç–µ IP-–¥–∏–∞–ø–∞–∑–æ–Ω—ã** ‚Äî –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω—ã
4. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏** ‚Äî –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –ø–æ–ø—ã—Ç–∫–∏ –æ–±—Ö–æ–¥–∞

---

## üîÑ –°—Ö–µ–º–∞ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π

```
                    –í–•–û–î–Ø–©–ò–ô –ó–ê–ü–†–û–°
                           ‚îÇ
                           ‚ñº
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
              ‚îÇ –ò—Å–∫–ª—é—á–µ–Ω–Ω—ã–π –ø—É—Ç—å?      ‚îÇ
              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                       ‚îÇ
          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
          ‚îÇ                         ‚îÇ
         –î–ê                        –ù–ï–¢
          ‚îÇ                         ‚îÇ
          ‚ñº                         ‚ñº
    –ü–†–û–ü–£–°–ö –ë–ï–ó              –î–ï–¢–ï–ö–¶–ò–Ø –ë–û–¢–ê
    –ü–†–û–í–ï–†–ö–ò                 ‚îÇ
                             ‚ñº
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ –ë–æ—Ç –æ–±–Ω–∞—Ä—É–∂–µ–Ω? ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ       ‚îÇ
                        –î–ê      –ù–ï–¢
                         ‚îÇ       ‚îÇ
                         ‚ñº       ‚ñº
                  –†–ï–î–ò–†–ï–ö–¢ –ù–ê   –ü–†–û–í–ï–†–ö–ê –î–û–ú–ï–ù–ê
                  GOOGLE.COM    ‚îÇ
                                ‚ñº
                        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                        ‚îÇ –û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–º–µ–Ω‚îÇ
                        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ                       ‚îÇ
                   –î–ê                      –ù–ï–¢
                    ‚îÇ                       ‚îÇ
                    ‚ñº                       ‚ñº
              –ü–†–û–ü–£–°–ö –î–ê–õ–¨–®–ï        –†–ï–î–ò–†–ï–ö–¢ –ù–ê
              (context.next())       –û–°–ù–û–í–ù–û–ô –î–û–ú–ï–ù
```

---

## üìö –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –∫–ª–æ–∞–∫–∏–Ω–≥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–µ **–¥–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏**:
1. **–ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã—Ö –ø—É—Ç–µ–π
2. **–î–µ—Ç–µ–∫—Ü–∏—è –±–æ—Ç–æ–≤** –ø–æ User-Agent –∏ IP
3. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç—Ä–∞—Ñ–∏–∫–∞**: –±–æ—Ç—ã ‚Üí –±–µ–∑–æ–ø–∞—Å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ ‚Üí –≤–∞—à –∫–æ–Ω—Ç–µ–Ω—Ç

–≠—Ç–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –º–æ–¥–µ—Ä–∞—Ü–∏–∏, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.





